plugins {
    id 'application'
    id 'antlr'
}

application {
    mainClass = 'com.slimp.Main'
}

repositories {
    mavenCentral()
}

dependencies {
    antlr 'org.antlr:antlr4:4.11.1'
    implementation 'commons-cli:commons-cli:1.3.1'
}

generateGrammarSource {
    arguments += ["-visitor"]
}

task copyGeneratedSource() {
    dependsOn generateGrammarSource
    doLast {
        copy {
            from "${buildDir}/generated-src/antlr/main"
            into "src/main/java/com/slimp/generated"
        }
    }
}

